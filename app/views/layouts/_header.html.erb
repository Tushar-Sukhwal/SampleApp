<header class="header">
  <div class="header-container">
    <%= link_to "sample app", root_path, id: "logo" %>
    
    <nav class="nav">
      <ul class="nav-list">
        <li><%= link_to "Home", root_path %></li>
        <li><%= link_to "Help", static_pages_help_path %></li>
        <li><%= link_to "About", static_pages_about_path %></li>
        <li><%= link_to "Contact", static_pages_contact_path %></li>

        <% if logged_in? %>
          <li><%= link_to "Users", '#' %></li>
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" onclick="toggleDropdown(event)">
              Account <span class="caret">â–¼</span>
            </a>
            <ul class="dropdown-menu">
              <li><%= link_to "Profile", current_user %></li>
              <li><%= link_to "Settings", '#' %></li>
              <li class="divider"></li>
              <li>
                <%= link_to "Log out", logout_path, data: { turbo_method: :delete } %>
              </li>
            </ul>
          </li>
        <% else %>
          <li><%= link_to "Log in", login_path %></li>
        <% end %>
      </ul>
    </nav>
  </div>
</header>

<script>
  function toggleDropdown(event) {
    event.preventDefault();
    const dropdown = event.target.closest('.dropdown');
    dropdown.classList.toggle('active');
  }

  // Close dropdown when clicking outside
  document.addEventListener('click', function(event) {
    if (!event.target.closest('.dropdown')) {
      const dropdowns = document.querySelectorAll('.dropdown.active');
      dropdowns.forEach(dropdown => dropdown.classList.remove('active'));
    }
  });
</script>